(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fb7d821"],{"107f":function(e,t,a){"use strict";var l=a("9410"),i=a.n(l);i.a},1131:function(e,t,a){},"18c2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"55%"}},[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入专扣名称进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initSads},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initSads(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initSads}},[e._v(" 搜索 ")])],1),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.AddSadView}},[e._v(" 添加新专扣 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.batchDeleteSad}},[e._v("批量删除专扣")])],1)])]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.speaddLoading,expression:"speaddLoading"}],ref:"multipleTable",attrs:{stripe:"",border:"","max-height":"513",data:e.speadds,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",prop:"sadid",label:"编号",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",prop:"sadname",label:"专扣名称",align:"left",width:"200"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"sadmoney",label:"专扣金额",align:"left",width:"85"}}),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(a){return e.editSadView(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteSad(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.editSadDialog,width:"30%"},on:{"update:visible":function(t){e.editSadDialog=t}}},[a("el-form",{ref:"speaddForm",attrs:{"label-position":"left","label-width":"90px",model:e.speadd,"status-icon":"",rules:e.rules}},[a("el-form-item",{attrs:{label:"专扣名称: ",prop:"sadname"}},[a("el-input",{staticStyle:{width:"290px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入专扣名称"},model:{value:e.speadd.sadname,callback:function(t){e.$set(e.speadd,"sadname",e._n(t))},expression:"speadd.sadname"}})],1),a("el-form-item",{attrs:{label:"专扣金额: ",prop:"sadmoney"}},[a("el-input",{staticStyle:{width:"290px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入专扣金额"},model:{value:e.speadd.sadmoney,callback:function(t){e.$set(e.speadd,"sadmoney",e._n(t))},expression:"speadd.sadmoney"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editSadDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddSad}},[e._v("确 定")])],1)],1)],1)},i=[],n={name:"SalSad",data:function(){return{keyword:null,speadds:[],speaddLoading:!1,editSadDialog:!1,multipleSelection:[],title:"",page:1,size:10,total:0,speadd:{sadname:"子女教育",sadmoney:0},rules:{sadname:[{required:!0,message:"请输入专扣名称",trigger:"blur"}],sadmoney:[{required:!0,message:"请输入专扣金额",trigger:"blur"},{type:"number",message:"专扣金额必须为数字值",trigger:"blur"}]}}},mounted:function(){this.initSads()},methods:{initSads:function(){var e=this;this.speaddLoading=!0;var t="/salary/specialadditionaldeduction/?page="+this.page+"&size="+this.size;this.keyword&&(t+="&sadname="+this.keyword),this.getRequest(t).then((function(t){e.speaddLoading=!1,t&&(e.speadds=t.data,e.total=t.total,0===t.data.length&&e.$notify.error({title:"错误",message:"本页没有数据，请翻页或添加数据！"}))}))},sizeChange:function(e){this.size=e,this.initSads()},currentChange:function(e){this.page=e,this.initSads()},emptySad:function(){this.speadd={sadname:"",sadmoney:""}},batchDeleteSad:function(){var e=this;this.$confirm("此操作将永久删除所选中的所有专扣, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.postRequest("/salary/specialadditionaldeduction/deletespeadds/",e.multipleSelection).then((function(t){t&&e.initSads()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},AddSadView:function(){this.emptySad(),this.title="添加新专扣",this.editSadDialog=!0,this.$refs["speaddForm"].resetFields()},editSadView:function(e){this.title="编辑专扣",this.speadd=Object.assign({},e),this.editSadDialog=!0},deleteSad:function(e){var t=this;this.$confirm("此操作将永久删除名称为【"+e.sadname+"】的专扣, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/specialadditionaldeduction/"+e.sadid).then((function(e){e&&t.initSads()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmAddSad:function(){var e=this;this.speadd.sadid?this.$refs["speaddForm"].validate((function(t){t&&e.putRequest("/salary/specialadditionaldeduction/",e.speadd).then((function(t){t&&(e.editSadDialog=!1,e.initSads())}))})):this.$refs["speaddForm"].validate((function(t){t&&e.postRequest("/salary/specialadditionaldeduction/",e.speadd).then((function(t){t&&(e.editSadDialog=!1,e.initSads())}))}))},handleSelectionChange:function(e){this.multipleSelection=e}}},s=n,r=a("2877"),o=Object(r["a"])(s,l,i,!1,null,"1bc1beac",null);t["default"]=o.exports},"1c47":function(e,t,a){},"6c55":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"top-menu"},[a("div",[e._v(" 所属部门: "),a("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.searchDepView,callback:function(t){e.searchDepView=t},expression:"searchDepView"}},[a("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.searvhViewHandleNodeClick}}),a("div",{staticClass:"select-dep",attrs:{slot:"reference"},on:{click:e.showSearchDepView},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1),e._v(" 核算日期: "),a("el-date-picker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange",size:"mini","unlink-panels":"",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","default-time":["09:00:00","18:00:00"]},model:{value:e.searchValue.payoffdate,callback:function(t){e.$set(e.searchValue,"payoffdate",t)},expression:"searchValue.payoffdate"}}),a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initSalInfo},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initSalInfo(t)}},model:{value:e.searchValue.empname,callback:function(t){e.$set(e.searchValue,"empname",t)},expression:"searchValue.empname"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initSalInfo}},[e._v(" 搜索 ")])],1),a("div",[a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:e.exportData}},[e._v(" 导出数据 ")])],1)])]),a("div",[a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.salInfoLoading,expression:"salInfoLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",border:"","max-height":"513",data:e.salInfos,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"employee.empname",fixed:"",align:"left",label:"姓名",width:"90"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"workid",label:"工号",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"department.depname",width:"100",align:"left",label:"所属部门"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"basicsalary",width:"100",align:"left",label:"基础薪资"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"absenteeism",width:"100",align:"left",label:"缺勤扣除工资"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"overtime",width:"100",align:"left",label:"加班工资"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"busitrip",width:"100",align:"left",label:"出差补助"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"endowment",width:"100",align:"left",label:"养老保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"medical",width:"100",align:"left",label:"医疗保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"unemployment",width:"100",align:"left",label:"失业保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"injury",width:"100",align:"left",label:"工伤保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"maternity",width:"100",align:"left",label:"生育保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"addmedical",width:"100",align:"left",label:"补充医疗保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"housing",width:"100",align:"left",label:"住房公积金"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"enterprisep",width:"100",align:"left",label:"企业年金"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"childedu",width:"100",align:"left",label:"子女教育"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"conedu",width:"100",align:"left",label:"继续教育"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"sermedical",width:"100",align:"left",label:"大病医疗"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"housingloan",width:"100",align:"left",label:"住房贷款利息"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"rental",width:"100",align:"left",label:"住房租金"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"supportold",width:"100",align:"left",label:"赡养老人"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"traffic",width:"100",align:"left",label:"交通补贴"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"catering",width:"100",align:"left",label:"餐饮补贴"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"communication",width:"100",align:"left",label:"通信补贴"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"other",width:"100",align:"left",label:"其它补贴"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"bonus",width:"100",align:"left",label:"奖金"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"sums",width:"100",align:"left",label:"合计"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"salfirstday",width:"145",align:"left",label:"发月薪月首日"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"salendday",width:"145",align:"left",label:"发月薪月末日"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"payoffdate",width:"140",align:"left",label:"计算薪资时间"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"right",width:"60",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.checkSalInfoView(t.row)}}},[e._v("查看")])]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)]),a("el-dialog",{attrs:{title:"员工历史薪资信息",visible:e.salInfoDialog,width:"80%"},on:{"update:visible":function(t){e.salInfoDialog=t}}},[a("div",[a("el-form",{attrs:{model:e.salInfo,disabled:"","label-position":"left","label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工工号:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.workid,callback:function(t){e.$set(e.salInfo,"workid",t)},expression:"salInfo.workid"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工姓名:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.employee.empname,callback:function(t){e.$set(e.salInfo.employee,"empname",t)},expression:"salInfo.employee.empname"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"所属部门:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.department.depname,callback:function(t){e.$set(e.salInfo.department,"depname",t)},expression:"salInfo.department.depname"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"基础薪资:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.basicsalary,callback:function(t){e.$set(e.salInfo,"basicsalary",t)},expression:"salInfo.basicsalary"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"扣除工资:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.absenteeism,callback:function(t){e.$set(e.salInfo,"absenteeism",t)},expression:"salInfo.absenteeism"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"加班工资:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.overtime,callback:function(t){e.$set(e.salInfo,"overtime",t)},expression:"salInfo.overtime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出差补助:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.busitrip,callback:function(t){e.$set(e.salInfo,"busitrip",t)},expression:"salInfo.busitrip"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"养老保险:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.endowment,callback:function(t){e.$set(e.salInfo,"endowment",t)},expression:"salInfo.endowment"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"医疗保险:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.medical,callback:function(t){e.$set(e.salInfo,"medical",t)},expression:"salInfo.medical"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"失业保险:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.unemployment,callback:function(t){e.$set(e.salInfo,"unemployment",t)},expression:"salInfo.unemployment"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工伤保险:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.injury,callback:function(t){e.$set(e.salInfo,"injury",t)},expression:"salInfo.injury"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"生育保险:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.maternity,callback:function(t){e.$set(e.salInfo,"maternity",t)},expression:"salInfo.maternity"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"补充医疗保险:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.addmedical,callback:function(t){e.$set(e.salInfo,"addmedical",t)},expression:"salInfo.addmedical"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住房公积金:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.housing,callback:function(t){e.$set(e.salInfo,"housing",t)},expression:"salInfo.housing"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业年金:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.enterprisep,callback:function(t){e.$set(e.salInfo,"enterprisep",t)},expression:"salInfo.enterprisep"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"子女教育:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.childedu,callback:function(t){e.$set(e.salInfo,"childedu",t)},expression:"salInfo.childedu"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"继续教育:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.conedu,callback:function(t){e.$set(e.salInfo,"conedu",t)},expression:"salInfo.conedu"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"大病医疗:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.sermedical,callback:function(t){e.$set(e.salInfo,"sermedical",t)},expression:"salInfo.sermedical"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住房贷款利息:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.housingloan,callback:function(t){e.$set(e.salInfo,"housingloan",t)},expression:"salInfo.housingloan"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住房租金:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.rental,callback:function(t){e.$set(e.salInfo,"rental",t)},expression:"salInfo.rental"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"赡养老人:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.supportold,callback:function(t){e.$set(e.salInfo,"supportold",t)},expression:"salInfo.supportold"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"交通补贴:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.traffic,callback:function(t){e.$set(e.salInfo,"traffic",t)},expression:"salInfo.traffic"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"餐饮补贴:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.catering,callback:function(t){e.$set(e.salInfo,"catering",t)},expression:"salInfo.catering"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"通信补贴:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.communication,callback:function(t){e.$set(e.salInfo,"communication",t)},expression:"salInfo.communication"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"其它补贴:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.other,callback:function(t){e.$set(e.salInfo,"other",t)},expression:"salInfo.other"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"奖金:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.bonus,callback:function(t){e.$set(e.salInfo,"bonus",t)},expression:"salInfo.bonus"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"合计:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.sums,callback:function(t){e.$set(e.salInfo,"sums",t)},expression:"salInfo.sums"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"月薪月首日:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.salfirstday,callback:function(t){e.$set(e.salInfo,"salfirstday",t)},expression:"salInfo.salfirstday"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"月薪月末日:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit"},model:{value:e.salInfo.salendday,callback:function(t){e.$set(e.salInfo,"salendday",t)},expression:"salInfo.salendday"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"计算薪资时间:"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini"},model:{value:e.salInfo.payoffdate,callback:function(t){e.$set(e.salInfo,"payoffdate",t)},expression:"salInfo.payoffdate"}})],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.salInfoDialog=!1}}},[e._v("确 定")])],1)])],1)},i=[],n=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{name:"SalInfo",data:function(){return{searchValue:{empname:null,depid:null,payoffdate:null},page:1,size:10,total:0,searchDepView:!1,salInfoLoading:!1,salInfoDialog:!1,inputDepName:"所属部门",allDeps:[],salInfos:[],multipleSelection:[],salInfo:{employee:{},department:{}},defaultProps:{children:"children",label:"depname"}}},mounted:function(){this.initSalInfo(),this.initData()},methods:{initSalInfo:function(){var e=this;this.salInfoLoading=!0;var t="/salary/information/?page="+this.page+"&size="+this.size;this.searchValue.empname&&(t+="&empname="+this.searchValue.empname),this.searchValue.depid&&(t+="&depid="+this.searchValue.depid),this.searchValue.payoffdate&&(t+="&payoffdate="+this.searchValue.payoffdate),this.getRequest(t).then((function(t){e.salInfoLoading=!1,t&&(e.salInfos=t.data,e.total=t.total,0===t.data.length&&e.$notify.error({title:"错误",message:"本页没有数据，请翻页或添加数据！"}))}))},initData:function(){var e=this;window.sessionStorage.getItem("deps")?this.allDeps=JSON.parse(window.sessionStorage.getItem("deps")):this.getRequest("/employee/basic/info/deps").then((function(t){t&&(e.allDeps=t,window.sessionStorage.setItem("deps",JSON.stringify(t)))}))},exportData:function(){var e=this;this.postRequestExcel("/salary/information/export/",this.multipleSelection).then((function(t){if(t){var a=t,l=new Blob([a],{type:"application/vnd.ms-excel"}),i=e.moment().format("YYYY.MM.DD_HH-mm-ss")+"员工历史薪资信息表.xls";if("download"in document.createElement("a")){var n=document.createElement("a");n.download=i,n.style.display="none",n.href=URL.createObjectURL(l),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(l,i)}}))},checkSalInfoView:function(e){this.salInfo=e,this.salInfoDialog=!0},searvhViewHandleNodeClick:function(e){this.inputDepName=e.depname,this.searchValue.depid=e.depid,this.searchDepView=!this.searchDepView},showSearchDepView:function(){this.searchDepView=!this.searchDepView},handleSelectionChange:function(e){this.multipleSelection=e},sizeChange:function(e){this.size=e,this.initSalInfo()},currentChange:function(e){this.page=e,this.initSalInfo()}}}),s=n,r=(a("ae42"),a("2877")),o=Object(r["a"])(s,l,i,!1,null,"3232e6bb",null);t["default"]=o.exports},9410:function(e,t,a){},"9c6a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("div",[a("el-steps",{attrs:{active:e.activeItemIndex,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"选择日期范围",description:"选择薪资计算的时间范围1~31"}}),a("el-step",{attrs:{title:"选择计算方式",description:"选择薪资的计算方式(月薪或年终奖)"}}),a("el-step",{attrs:{title:"选择被计算员工的方式",description:"选择薪资被计算员工的方式(按部门或按工号)"}}),a("el-step",{attrs:{title:"选择被计算员工",description:"选择被统计员工"}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.activeItemIndex,expression:"activeItemIndex==0"}]},[a("el-form",{ref:"salCheckForm",attrs:{model:e.checkValue,"status-icon":"",rules:e.rules,"label-position":"left","label-width":"90px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"时间范围:",prop:"timerange"}},[a("el-date-picker",{staticStyle:{width:"90%"},attrs:{type:"daterange","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"薪资计算开始日期","end-placeholder":"薪资计算结束日期"},model:{value:e.checkValue.timerange,callback:function(t){e.$set(e.checkValue,"timerange",t)},expression:"checkValue.timerange"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"加班费:",prop:"overtimesal"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入加班费"},model:{value:e.checkValue.overtimesal,callback:function(t){e.$set(e.checkValue,"overtimesal",e._n(t))},expression:"checkValue.overtimesal"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出差补助:",prop:"businesssal"}},[a("el-input",{staticStyle:{width:"90%"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入出差补助"},model:{value:e.checkValue.businesssal,callback:function(t){e.$set(e.checkValue,"businesssal",e._n(t))},expression:"checkValue.businesssal"}})],1)],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.activeItemIndex,expression:"activeItemIndex==1"}],staticStyle:{display:"flex","justify-content":"center"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择薪资计算方案",size:"mini"},model:{value:e.checkmethod,callback:function(t){e.checkmethod=t},expression:"checkmethod"}},e._l(e.salsches,(function(e){return a("el-option",{key:e.ssid,attrs:{label:e.ssname,value:e.ssid}})})),1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.activeItemIndex,expression:"activeItemIndex==2"}],staticStyle:{display:"flex","justify-content":"center"}},[a("el-radio-group",{model:{value:e.way,callback:function(t){e.way=t},expression:"way"}},[a("el-radio",{attrs:{label:"0"}},[e._v("所有员工")]),a("el-radio",{attrs:{label:"1"}},[e._v("按照部门")]),a("el-radio",{attrs:{label:"2"}},[e._v("按照员工")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==e.activeItemIndex,expression:"activeItemIndex==3"}],staticStyle:{display:"flex","justify-content":"center"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.way,expression:"way==1"}]},[e._v(" 所属部门: "),a("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.searchDepView,callback:function(t){e.searchDepView=t},expression:"searchDepView"}},[a("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.searvhViewHandleNodeClick}}),a("div",{staticClass:"select-dep",attrs:{slot:"reference"},on:{click:e.showSearchDepView},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.way,expression:"way==2"}]},[a("el-select",{staticClass:"findAllEmp-autocomplete",attrs:{"value-key":"workid",multiple:"",placeholder:"请选择","popper-append-to-body":!1},model:{value:e.selectedEmps,callback:function(t){e.selectedEmps=t},expression:"selectedEmps"}},e._l(e.employees,(function(t){return a("el-option",{key:t.workid,attrs:{label:t.label,value:t}},[a("div",{staticClass:"empname"},[e._v(e._s(t.label))]),a("span",{staticClass:"workid"},[e._v("工号: "+e._s(t.workid))])])})),1)],1)])]),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-button",{on:{click:e.preStep}},[e._v(e._s(3==e.activeItemIndex?"取消":"上一步"))]),a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.salCheckLoading,expression:"salCheckLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.nextStep}},[e._v(e._s(3==e.activeItemIndex?"完成":"下一步"))])],1)],1)])},i=[],n=(a("ac1f"),a("5319"),{name:"SalCheck",data:function(){return{checkValue:{timerange:null,depid:null,overtimesal:null,businesssal:null},way:"0",checkmethod:null,activeItemIndex:0,searchDepView:!1,salCheckLoading:!1,allDeps:[],employees:[],salsches:[],selectedEmps:[],inputDepName:"所属部门",defaultProps:{children:"children",label:"depname"},rules:{timerange:[{required:!0,message:"请输入薪资计算时间范围",trigger:"blur"}],overtimesal:[{required:!0,message:"请输入加班费",trigger:"blur"},{type:"number",message:"加班费必须为数字值",trigger:"blur"}],businesssal:[{required:!0,message:"请输入出差补助",trigger:"blur"},{type:"number",message:"出差补助必须为数字值",trigger:"blur"}]}}},mounted:function(){this.initData()},methods:{initData:function(){var e=this;window.sessionStorage.getItem("deps")?this.allDeps=JSON.parse(window.sessionStorage.getItem("deps")):this.getRequest("/employee/basic/info/deps").then((function(t){t&&(e.allDeps=t,window.sessionStorage.setItem("deps",JSON.stringify(t)))})),window.sessionStorage.getItem("emps")?this.employees=JSON.parse(window.sessionStorage.getItem("emps")):this.getRequest("/organization/management/employee/").then((function(t){t&&(e.employees=t,window.sessionStorage.setItem("emps",JSON.stringify(t)))})),window.sessionStorage.getItem("salsches")?this.salsches=JSON.parse(window.sessionStorage.getItem("salsches")):this.getRequest("/salary/scheme/").then((function(t){t&&(e.salsches=t,window.sessionStorage.setItem("salsches",JSON.stringify(t)))}))},preStep:function(){0!=this.activeItemIndex&&(3!=this.activeItemIndex?this.activeItemIndex--:this.$router.replace("/home"))},nextStep:function(){var e=this;0!=this.activeItemIndex?(3==this.activeItemIndex&&(this.salCheckLoading=!0,1==this.checkmethod?0==this.way?this.getRequest("/salary/check/checkall?timerange="+this.checkValue.timerange+"&overtimesal="+this.checkValue.overtimesal+"&businesssal="+this.checkValue.businesssal).then((function(t){t&&(e.salCheckLoading=!1,e.$router.push("/sal/info"))})):1==this.way?this.getRequest("/salary/check/checkbydepid?depid="+this.checkValue.depid+"&timerange="+this.checkValue.timerange+"&overtimesal="+this.checkValue.overtimesal+"&businesssal="+this.checkValue.businesssal).then((function(t){t&&(e.salCheckLoading=!1,e.$router.push("/sal/info"))})):this.postRequest("/salary/check/checkbyworkid?timerange="+this.checkValue.timerange+"&overtimesal="+this.checkValue.overtimesal+"&businesssal="+this.checkValue.businesssal,this.selectedEmps).then((function(t){t&&(e.salCheckLoading=!1,e.$router.push("/sal/info"))})):0==this.way?this.getRequest("/salary/check/yearcheckall?timerange="+this.checkValue.timerange+"&n="+this.checkmethod).then((function(t){t&&(e.salCheckLoading=!1,e.$router.push("/sal/info"))})):1==this.way?this.getRequest("/salary/check/yearcheckbydepid?depid="+this.checkValue.depid+"&timerange="+this.checkValue.timerange+"&n="+this.checkmethod).then((function(t){t&&(e.salCheckLoading=!1,e.$router.push("/sal/info"))})):this.postRequest("/salary/check/yearcheckbyworkid?timerange="+this.checkValue.timerange+"&n="+this.checkmethod,this.selectedEmps).then((function(t){t&&(e.salCheckLoading=!1,e.$router.push("/sal/info"))}))),this.activeItemIndex++,console.log(this.activeItemIndex)):this.$refs["salCheckForm"].validate((function(t){t&&e.activeItemIndex++}))},searvhViewHandleNodeClick:function(e){this.inputDepName=e.depname,this.checkValue.depid=e.depid,this.searchDepView=!this.searchDepView},showSearchDepView:function(){this.searchDepView=!this.searchDepView}}}),s=n,r=(a("107f"),a("2877")),o=Object(r["a"])(s,l,i,!1,null,"e9f8c0a4",null);t["default"]=o.exports},a0c2:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"55%"}},[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.AddTrView}},[e._v(" 添加新税率 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.batchDeleteTr}},[e._v("批量删除税率")])],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.taxRateLoading,expression:"taxRateLoading"}],ref:"multipleTable",attrs:{stripe:"",border:"","max-height":"513",data:e.taxRates,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",prop:"trid",label:"编号",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"trmin",label:"税收最小值",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"trmax",label:"税收最大值",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"trpercent",label:"税率",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"quideduction",label:"速算扣除数",align:"left",width:"85"}}),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(a){return e.editTrView(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteTr(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.editTrDialog,width:"30%"},on:{"update:visible":function(t){e.editTrDialog=t}}},[a("el-form",{ref:"taxRateForm",attrs:{model:e.taxRate,"status-icon":"",rules:e.rules}},[a("el-form-item",{attrs:{label:"税收最小值: ",prop:"trmin"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入税收最小值"},model:{value:e.taxRate.trmin,callback:function(t){e.$set(e.taxRate,"trmin",e._n(t))},expression:"taxRate.trmin"}})],1),a("el-form-item",{attrs:{label:"税收最大值: ",prop:"trmax"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入税收最大值"},model:{value:e.taxRate.trmax,callback:function(t){e.$set(e.taxRate,"trmax",e._n(t))},expression:"taxRate.trmax"}})],1),a("el-form-item",{attrs:{label:"税率百分比: ",prop:"trpercent"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入税率百分比"},model:{value:e.taxRate.trpercent,callback:function(t){e.$set(e.taxRate,"trpercent",e._n(t))},expression:"taxRate.trpercent"}})],1),a("el-form-item",{attrs:{label:"速算扣除数: ",prop:"quideduction"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入速算扣除数"},model:{value:e.taxRate.quideduction,callback:function(t){e.$set(e.taxRate,"quideduction",e._n(t))},expression:"taxRate.quideduction"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editTrDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddTr}},[e._v("确 定")])],1)],1)],1)},i=[],n={name:"SalTr",data:function(){return{taxRates:[],taxRateLoading:!1,editTrDialog:!1,multipleSelection:[],title:"",taxRate:{trmin:0,trmax:1e3,trpercent:3,quideduction:40},rules:{trmin:[{required:!0,message:"请输入税收最小值",trigger:"blur"},{type:"number",message:"税收最小值必须为数字值",trigger:"blur"}],trmax:[{required:!0,message:"请输入税收最大值",trigger:"blur"},{type:"number",message:"税收最大值必须为数字值",trigger:"blur"}],trpercent:[{required:!0,message:"请输入税率百分比",trigger:"blur"},{type:"number",message:"税率百分比必须为数字值",trigger:"blur"}],quideduction:[{required:!0,message:"请输入速算扣除数",trigger:"blur"},{type:"number",message:"速算扣除数必须为数字值",trigger:"blur"}]}}},mounted:function(){this.initTrs()},methods:{initTrs:function(){var e=this;this.taxRateLoading=!0,this.getRequest("/salary/taxrate/").then((function(t){e.taxRateLoading=!1,t&&(e.taxRates=t)}))},emptyTr:function(){this.taxRate={trmin:"",trmax:"",trpercent:"",quideduction:""}},batchDeleteTr:function(){var e=this;this.$confirm("此操作将永久删除所选中的所有税率, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.postRequest("/salary/taxrate/deletetrs/",e.multipleSelection).then((function(t){t&&e.initTrs()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},AddTrView:function(){this.emptyTr(),this.title="添加新税率",this.editTrDialog=!0,this.$refs["taxRateForm"].resetFields()},editTrView:function(e){this.title="编辑税率",this.taxRate=Object.assign({},e),this.editTrDialog=!0},deleteTr:function(e){var t=this;this.$confirm("此操作将永久删除编号为【"+e.trid+"】的税率, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/taxrate/"+e.trid).then((function(e){e&&t.initTrs()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmAddTr:function(){var e=this;this.taxRate.trid?this.$refs["taxRateForm"].validate((function(t){t&&e.putRequest("/salary/taxrate/",e.taxRate).then((function(t){t&&(e.editTrDialog=!1,e.initTrs())}))})):this.$refs["taxRateForm"].validate((function(t){t&&e.postRequest("/salary/taxrate/",e.taxRate).then((function(t){t&&(e.editTrDialog=!1,e.initTrs())}))}))},handleSelectionChange:function(e){this.multipleSelection=e}}},s=n,r=a("2877"),o=Object(r["a"])(s,l,i,!1,null,"1e1b5de7",null);t["default"]=o.exports},ae42:function(e,t,a){"use strict";var l=a("1131"),i=a.n(l);i.a},c508:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%"}},[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.AddSalscheView}},[e._v(" 添加新计算方案 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.batchDeleteSalsche}},[e._v("批量删除计算方案")])],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.salSchemeLoading,expression:"salSchemeLoading"}],ref:"multipleTable",attrs:{stripe:"",border:"","max-height":"513",data:e.salSchemes,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",prop:"ssid",label:"编号",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"ssname",label:"计算方法名",align:"left",width:"150"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"compmethod",label:"计算公式","show-overflow-tooltip":"",align:"left"}}),a("el-table-column",{attrs:{align:"center",fixed:"right",width:"100",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(a){return e.editSalscheView(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteSalsche(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.editSalscheDialog,width:"30%"},on:{"update:visible":function(t){e.editSalscheDialog=t}}},[a("el-form",{ref:"salSchemeForm",attrs:{"label-position":"left","label-width":"100px",model:e.salScheme,"status-icon":"",rules:e.rules}},[a("el-form-item",{attrs:{label:"计算方法名: ",prop:"ssname"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入计算方法名"},model:{value:e.salScheme.ssname,callback:function(t){e.$set(e.salScheme,"ssname",t)},expression:"salScheme.ssname"}})],1),a("el-form-item",{attrs:{label:"计算公式: ",prop:"compmethod"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"textarea",autosize:{minRows:4,maxRows:7},placeholder:"请输入计算公式",minlength:"10",maxlength:"255","show-word-limit":""},model:{value:e.salScheme.compmethod,callback:function(t){e.$set(e.salScheme,"compmethod",t)},expression:"salScheme.compmethod"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editSalscheDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddSalsche}},[e._v("确 定")])],1)],1)],1)},i=[],n={name:"SalScheme",data:function(){return{salSchemes:[],salSchemeLoading:!1,editSalscheDialog:!1,multipleSelection:[],title:"",salScheme:{ssname:0,compmethod:1e3},rules:{ssname:[{required:!0,message:"请输入计算方法名",trigger:"blur"}],compmethod:[{required:!0,message:"请输入计算公式",trigger:"blur"}]}}},mounted:function(){this.initSalsches()},methods:{initSalsches:function(){var e=this;this.salSchemeLoading=!0,this.getRequest("/salary/scheme/").then((function(t){e.salSchemeLoading=!1,t&&(e.salSchemes=t)}))},emptySalsche:function(){this.salScheme={ssname:"",compmethod:""}},batchDeleteSalsche:function(){var e=this;this.$confirm("此操作将永久删除所选中的所有薪资计算方案, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.postRequest("/salary/scheme/deletesalsches/",e.multipleSelection).then((function(t){t&&e.initSalsches()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},AddSalscheView:function(){this.emptySalsche(),this.title="添加新薪资计算方案",this.editSalscheDialog=!0,this.$refs["salSchemeForm"].resetFields()},editSalscheView:function(e){this.title="编辑薪资计算方案",this.salScheme=Object.assign({},e),this.editSalscheDialog=!0},deleteSalsche:function(e){var t=this;this.$confirm("此操作将永久删除编号为【"+e.ssid+"】的计算方案, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/scheme/"+e.ssid).then((function(e){e&&t.initSalsches()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmAddSalsche:function(){var e=this;this.salScheme.ssid?this.$refs["salSchemeForm"].validate((function(t){t&&e.putRequest("/salary/scheme/",e.salScheme).then((function(t){t&&(e.editSalscheDialog=!1,e.initSalsches())}))})):this.$refs["salSchemeForm"].validate((function(t){t&&e.postRequest("/salary/scheme/",e.salScheme).then((function(t){t&&(e.editSalscheDialog=!1,e.initSalsches())}))}))},handleSelectionChange:function(e){this.multipleSelection=e}}},s=n,r=a("2877"),o=Object(r["a"])(s,l,i,!1,null,"077a2096",null);t["default"]=o.exports},ed02:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"45%"}},[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.AddTretView}},[e._v(" 添加保障性待遇 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.batchDeleteTret}},[e._v("批量删除保障性待遇")])],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.treatmentLoading,expression:"treatmentLoading"}],ref:"multipleTable",attrs:{stripe:"",border:"","max-height":"513",data:e.treatments,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",prop:"tretid",label:"编号",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"tretname",label:"保障性待遇名称",align:"left",width:"110"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"tretpercent",label:"个人缴纳的比例",align:"left",width:"110"}}),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(a){return e.editTretView(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteTret(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.title,visible:e.editTretDialog,width:"30%"},on:{"update:visible":function(t){e.editTretDialog=t}}},[a("el-form",{ref:"treatmentForm",attrs:{model:e.treatment,"status-icon":"",rules:e.rules}},[a("el-form-item",{attrs:{label:"保障性待遇名称: ",prop:"tretname"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入保障性待遇名称"},model:{value:e.treatment.tretname,callback:function(t){e.$set(e.treatment,"tretname",e._n(t))},expression:"treatment.tretname"}})],1),a("el-form-item",{attrs:{label:"个人缴纳的比例: ",prop:"tretpercent"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入个人缴纳的比例"},model:{value:e.treatment.tretpercent,callback:function(t){e.$set(e.treatment,"tretpercent",e._n(t))},expression:"treatment.tretpercent"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editTretDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddTret}},[e._v("确 定")])],1)],1)],1)},i=[],n={name:"SalTreatment",data:function(){return{treatments:[],treatmentLoading:!1,editTretDialog:!1,multipleSelection:[],title:"",treatment:{tretname:"养老保险",tretpercent:3},rules:{tretname:[{required:!0,message:"请输入待遇名称",trigger:"blur"}],tretpercent:[{required:!0,message:"请输入个人缴纳的比例",trigger:"blur"},{type:"number",message:"个人缴纳的比例必须为数字值",trigger:"blur"}]}}},mounted:function(){this.initTrets()},methods:{initTrets:function(){var e=this;this.treatmentLoading=!0,this.getRequest("/salary/treatment/").then((function(t){e.treatmentLoading=!1,t&&(e.treatments=t)}))},emptyTret:function(){this.treatment={tretname:"",tretpercent:""}},batchDeleteTret:function(){var e=this;this.$confirm("此操作将永久删除所选中的所有保障性待遇, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.postRequest("/salary/treatment/deletetrets/",e.multipleSelection).then((function(t){t&&e.initTrets()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},AddTretView:function(){this.emptyTret(),this.title="添加保障性待遇",this.editTretDialog=!0,this.$refs["treatmentForm"].resetFields()},editTretView:function(e){this.title="编辑保障性待遇",this.treatment=Object.assign({},e),this.editTretDialog=!0},deleteTret:function(e){var t=this;this.$confirm("此操作将永久删除名称为【"+e.tretname+"】的保障性待遇, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/treatment/"+e.tretid).then((function(e){e&&t.initTrets()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmAddTret:function(){var e=this;this.treatment.tretid?this.$refs["treatmentForm"].validate((function(t){t&&e.putRequest("/salary/treatment/",e.treatment).then((function(t){t&&(e.editTretDialog=!1,e.initTrets())}))})):this.$refs["treatmentForm"].validate((function(t){t&&e.postRequest("/salary/treatment/",e.treatment).then((function(t){t&&(e.editTretDialog=!1,e.initTrets())}))}))},handleSelectionChange:function(e){this.multipleSelection=e}}},s=n,r=a("2877"),o=Object(r["a"])(s,l,i,!1,null,"3bb01ff6",null);t["default"]=o.exports},eeb6:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"top-menu"},[a("div",[e._v(" 所属部门: "),a("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.searchDepView,callback:function(t){e.searchDepView=t},expression:"searchDepView"}},[a("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.searvhViewHandleNodeClick}}),a("div",{staticClass:"select-dep",attrs:{slot:"reference"},on:{click:e.showSearchDepView},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1),a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initEmpSals},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmpSals(t)}},model:{value:e.searchValue.empname,callback:function(t){e.$set(e.searchValue,"empname",t)},expression:"searchValue.empname"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initEmpSals}},[e._v(" 搜索 ")])],1),a("div",[a("el-upload",{staticClass:"upload-button",attrs:{"show-file-list":!1,"before-upload":e.beforeUpload,"on-success":e.onSuccess,"on-error":e.onError,disabled:e.importDataDisabled,action:"/salary/employee/import"}},[a("el-button",{attrs:{disabled:e.importDataDisabled,type:"success",icon:e.importDataBtnIcon}},[e._v(" "+e._s(e.importDataBtnText)+" ")])],1),a("el-button",{attrs:{type:"success",icon:"el-icon-download"},on:{click:e.exportData}},[e._v(" 导出数据 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.showAddEmpSalView}},[e._v(" 添加员工薪酬 ")])],1)])]),a("div",[a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.empSalLoading,expression:"empSalLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",border:"","max-height":"513",data:e.empSals,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"employee.empname",fixed:"",align:"left",label:"姓名",width:"90"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"workid",label:"工号",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"department.depname",width:"100",align:"left",label:"所属部门"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"basicsalary",width:"100",align:"left",label:"基础薪资"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"endowment",width:"100",align:"left",formatter:e.isChoose,label:"养老保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"medical",width:"100",align:"left",formatter:e.isChoose,label:"医疗保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"unemployment",width:"100",align:"left",formatter:e.isChoose,label:"失业保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"injury",width:"100",align:"left",formatter:e.isChoose,label:"工伤保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"maternity",width:"100",align:"left",formatter:e.isChoose,label:"生育保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"addmedical",width:"100",align:"left",formatter:e.isChoose,label:"补充医疗保险"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"housing",width:"100",align:"left",formatter:e.isChoose,label:"住房公积金"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"enterprisep",width:"100",align:"left",formatter:e.isChoose,label:"企业年金"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"speadd1.sadname",width:"200",align:"left",label:"子女教育"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"speadd2.sadname",width:"200",align:"left",label:"继续教育"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"speadd3.sadname",width:"200",align:"left",label:"大病医疗"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"speadd4.sadname",width:"200",align:"left",label:"住房贷款利息"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"speadd5.sadname",width:"200",align:"left",label:"住房租金"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"speadd6.sadname",width:"200",align:"left",label:"赡养老人"}}),a("el-table-column",{attrs:{"header-align":"center",width:"100",align:"left",label:"福利补贴"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.welfare?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("table",[a("tr",[a("td",[e._v("交通补贴")]),a("td",[e._v(e._s(t.row.welfare.traffic))])]),a("tr",[a("td",[e._v("餐饮补贴")]),a("td",[e._v(e._s(t.row.welfare.catering))])]),a("tr",[a("td",[e._v("通信补贴")]),a("td",[e._v(e._s(t.row.welfare.communication))])]),a("tr",[a("td",[e._v("奖金")]),a("td",[e._v(e._s(t.row.welfare.bonus))])]),a("tr",[a("td",[e._v("其它")]),a("td",[e._v(e._s(t.row.welfare.other))])])])]),a("el-tag",[e._v(e._s(t.row.welfare.welname))])],1):a("el-tag",[e._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{"header-align":"center",fixed:"right",width:"125",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.checkEmpSalView(t.row)}}},[e._v("查看")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteEmpSal(t.row)}}},[e._v("删除")]),a("el-dropdown",{staticStyle:{padding:"3px","margin-left":"8px"},attrs:{trigger:"click"},on:{command:e.moreCommand}},[a("span",{staticClass:"more-emp-menus"},[a("i",{staticClass:"el-icon-more-outline"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{command:"empSalAdj",rowdata:t.row}}},[e._v("薪资调整")])],1)],1)]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.batchDelete}},[e._v("批量删除")]),a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)]),a("el-dialog",{attrs:{title:e.title,visible:e.empSalDialog,width:"80%"},on:{"update:visible":function(t){e.empSalDialog=t}}},[a("div",[a("el-form",{ref:"empSalForm",attrs:{model:e.empSal,"status-icon":"",rules:e.rules,disabled:e.NoModify}},[a("el-row",[e.isEmpSalAdj?e._e():a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工姓名:",prop:"workid"}},[a("el-select",{staticClass:"findAllEmp-autocomplete",staticStyle:{width:"200px"},attrs:{"popper-append-to-body":!1,clearable:"",filterable:"",placeholder:"请选择员工姓名"},model:{value:e.empSal.workid,callback:function(t){e.$set(e.empSal,"workid",t)},expression:"empSal.workid"}},e._l(e.employees,(function(t){return a("el-option",{key:t.workid,attrs:{label:t.label,value:t.workid}},[a("div",{staticClass:"empname"},[e._v(e._s(t.label))]),a("span",{staticClass:"workid"},[e._v("工号: "+e._s(t.workid))])])})),1)],1)],1),e.isEmpSalAdj?a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工工号:",prop:"workid",rules:[{required:!0,message:"请输入工号",trigger:"blur"}]}},[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入工号",disabled:""},model:{value:e.empSal.workid,callback:function(t){e.$set(e.empSal,"workid",t)},expression:"empSal.workid"}})],1)],1):e._e(),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"基础薪资:",prop:"basicsalary"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入基础薪资"},model:{value:e.empSal.basicsalary,callback:function(t){e.$set(e.empSal,"basicsalary",e._n(t))},expression:"empSal.basicsalary"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"子女教育:",prop:"childedu"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择子女教育",size:"mini"},model:{value:e.empSal.childedu,callback:function(t){e.$set(e.empSal,"childedu",t)},expression:"empSal.childedu"}},e._l(e.speadds,(function(e){return a("el-option",{key:e.sadid,attrs:{label:e.sadname,value:e.sadid}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"继续教育:",prop:"conedu"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择继续教育",size:"mini"},model:{value:e.empSal.conedu,callback:function(t){e.$set(e.empSal,"conedu",t)},expression:"empSal.conedu"}},e._l(e.speadds,(function(e){return a("el-option",{key:e.sadid,attrs:{label:e.sadname,value:e.sadid}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"大病医疗:",prop:"sermedical"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择大病医疗",size:"mini"},model:{value:e.empSal.sermedical,callback:function(t){e.$set(e.empSal,"sermedical",t)},expression:"empSal.sermedical"}},e._l(e.speadds,(function(e){return a("el-option",{key:e.sadid,attrs:{label:e.sadname,value:e.sadid}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住房贷款:",prop:"housingloan"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择住房贷款",size:"mini"},model:{value:e.empSal.housingloan,callback:function(t){e.$set(e.empSal,"housingloan",t)},expression:"empSal.housingloan"}},e._l(e.speadds,(function(e){return a("el-option",{key:e.sadid,attrs:{label:e.sadname,value:e.sadid}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住房租金:",prop:"rental"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择住房租金",size:"mini"},model:{value:e.empSal.rental,callback:function(t){e.$set(e.empSal,"rental",t)},expression:"empSal.rental"}},e._l(e.speadds,(function(e){return a("el-option",{key:e.sadid,attrs:{label:e.sadname,value:e.sadid}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"赡养老人:",prop:"supportold"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择赡养老人",size:"mini"},model:{value:e.empSal.supportold,callback:function(t){e.$set(e.empSal,"supportold",t)},expression:"empSal.supportold"}},e._l(e.speadds,(function(e){return a("el-option",{key:e.sadid,attrs:{label:e.sadname,value:e.sadid}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"福利补贴:",prop:"welid"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择福利补贴",size:"mini"},model:{value:e.empSal.welid,callback:function(t){e.$set(e.empSal,"welid",t)},expression:"empSal.welid"}},e._l(e.wels,(function(e){return a("el-option",{key:e.welid,attrs:{label:e.welname,value:e.welid}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"养老保险:",prop:"endowment"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.endowment,callback:function(t){e.$set(e.empSal,"endowment",t)},expression:"empSal.endowment"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"医疗保险:",prop:"medical"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.medical,callback:function(t){e.$set(e.empSal,"medical",t)},expression:"empSal.medical"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"失业保险:",prop:"unemployment"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.unemployment,callback:function(t){e.$set(e.empSal,"unemployment",t)},expression:"empSal.unemployment"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"工伤保险:",prop:"injury"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.injury,callback:function(t){e.$set(e.empSal,"injury",t)},expression:"empSal.injury"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"生育保险:",prop:"maternity"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.maternity,callback:function(t){e.$set(e.empSal,"maternity",t)},expression:"empSal.maternity"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"补充医疗保险:",prop:"addmedical"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.addmedical,callback:function(t){e.$set(e.empSal,"addmedical",t)},expression:"empSal.addmedical"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"住房公积金:",prop:"housing"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.housing,callback:function(t){e.$set(e.empSal,"housing",t)},expression:"empSal.housing"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业年金:",prop:"enterprisep"}},[a("el-switch",{attrs:{"active-text":"启用","active-color":"#13ce66","inactive-color":"#ff4949","inactive-text":"禁用"},model:{value:e.empSal.enterprisep,callback:function(t){e.$set(e.empSal,"enterprisep",t)},expression:"empSal.enterprisep"}})],1)],1),e.isEmpSalAdj?a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"调薪日期:",prop:"empSalAdj.sadate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{size:"mini",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择调薪日期","default-time":"09:00:00"},model:{value:e.empSal.empSalAdj.sadate,callback:function(t){e.$set(e.empSal.empSalAdj,"sadate",t)},expression:"empSal.empSalAdj.sadate"}})],1)],1):e._e(),e.isEmpSalAdj?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"调薪备注:",prop:"empSalAdj.saremark"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:7},placeholder:"请输入内容",minlength:"10",maxlength:"255","show-word-limit":""},model:{value:e.empSal.empSalAdj.saremark,callback:function(t){e.$set(e.empSal.empSalAdj,"saremark",t)},expression:"empSal.empSalAdj.saremark"}})],1)],1):e._e()],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.empSalDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmpSal}},[e._v("确 定")])],1)]),a("el-drawer",{attrs:{title:"员工薪资调整",visible:e.empSalAdjDrawer,direction:e.direction,size:"35%","before-close":e.DrawerClose},on:{"update:visible":function(t){e.empSalAdjDrawer=t}}},[a("div",{staticStyle:{margin:"0 10px 0 10px"}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-date-picker",{staticStyle:{"margin-right":"10px",width:"320px"},attrs:{type:"datetimerange",size:"mini","unlink-panels":"",align:"right","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","default-time":["09:00:00","18:00:00"]},model:{value:e.searchEmpSalAdj,callback:function(t){e.searchEmpSalAdj=t},expression:"searchEmpSalAdj"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.empSalAdjSearch}},[e._v(" 搜索 ")])],1),a("div",[a("el-button",{staticStyle:{display:"inline-flex"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addEmpSalAdj}},[e._v(" 薪资调整 ")])],1)]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.empSalAdjLoading,expression:"empSalAdjLoading"}],staticStyle:{width:"100%"},attrs:{stripe:"",border:"","max-height":"520",data:e.empSalAdjs,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)","default-sort":{prop:"sadate",order:"descending"}}},[a("el-table-column",{attrs:{"header-align":"center",prop:"employee.empname",label:"姓名",width:"90"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"workid",label:"工号",width:"100"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"sadate",label:"调薪日期",sortable:"",width:"140"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.checkEmpSalAdj(t.row)}}},[e._v("查看")])]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.empsaladjtotal},on:{"current-change":e.empSalAdjCurrentChange,"size-change":e.empSalAdjSizeChange}})],1)],1),a("el-dialog",{attrs:{"append-to-body":!0,title:"查看员工薪资调整",visible:e.empSalAdjDialogForm,width:"30%"},on:{"update:visible":function(t){e.empSalAdjDialogForm=t}}},[a("el-form",{attrs:{model:e.empSalAdj,disabled:""}},[a("el-form-item",{attrs:{label:"员工工号: ",prop:"workid"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{"prefix-icon":"el-icon-edit"},model:{value:e.empSalAdj.workid,callback:function(t){e.$set(e.empSalAdj,"workid",t)},expression:"empSalAdj.workid"}})],1),a("el-form-item",{attrs:{label:"调薪日期: ",prop:"sadate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{size:"mini",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择调薪日期","default-time":"09:00:00"},model:{value:e.empSalAdj.sadate,callback:function(t){e.$set(e.empSalAdj,"sadate",t)},expression:"empSalAdj.sadate"}})],1),a("el-form-item",{attrs:{label:"调薪备注: ",prop:"saremark"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:7},placeholder:"请输入内容",minlength:"10",maxlength:"255","show-word-limit":""},model:{value:e.empSalAdj.saremark,callback:function(t){e.$set(e.empSalAdj,"saremark",t)},expression:"empSalAdj.saremark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info"},on:{click:function(t){e.empSalAdjDialogForm=!1}}},[e._v("确 定")])],1)],1)],1)])],1)},i=[],n=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{name:"SalEmp",data:function(){var e=this,t=function(t,a,l){e.getRequest("/salary/employee/find?workid="+a).then((function(e){e?l(new Error("该员工已拥有薪资信息!")):l()}))};return{searchValue:{empname:null,depid:null},searchEmpSalAdj:null,searchDepView:!1,empSalLoading:!1,importDataDisabled:!1,empSalDialog:!1,salAdjDialog:!1,NoModify:!1,empSalAdjDrawer:!1,empSalAdjLoading:!1,isEmpSalAdj:!1,empSalAdjDialogForm:!1,direction:"rtl",currentEmpSal:[],allDeps:[],empSals:[],speadds:[],wels:[],multipleSelection:[],employees:[],empSalAdjs:[],title:"",inputDepName:"所属部门",importDataBtnText:"导入数据",importDataBtnIcon:"el-icon-upload2",page:1,size:10,total:0,empsaladjpage:1,empsaladjsize:10,empsaladjtotal:0,empSalAdj:{sadate:"",saremark:""},empSal:{workid:1,basicsalary:6e3,endowment:0,medical:0,unemployment:0,injury:0,maternity:0,addmedical:0,housing:0,enterprisep:0,childedu:1,conedu:1,sermedical:1,housingloan:1,rental:1,supportold:1,welid:1,empSalAdj:{sadate:"",saremark:""}},rules:{workid:[{required:!0,message:"请输入工号",trigger:"blur"},{validator:t,trigger:"blur"}],basicsalary:[{required:!0,message:"请输入基础薪资",trigger:"blur"},{type:"number",message:"基础薪资必须为数字值",trigger:"blur"}],endowment:[{required:!0,message:"请选择养老保险",trigger:"blur"}],medical:[{required:!0,message:"请选择医疗保险",trigger:"blur"}],unemployment:[{required:!0,message:"请选择失业保险",trigger:"blur"}],injury:[{required:!0,message:"请选择工伤保险",trigger:"blur"}],maternity:[{required:!0,message:"请选择生育保险",trigger:"blur"}],addmedical:[{required:!0,message:"请选择补充医疗保险",trigger:"blur"}],housing:[{required:!0,message:"请选择住房公积金",trigger:"blur"}],enterprisep:[{required:!0,message:"请选择企业年金",trigger:"blur"}],welid:[{required:!0,message:"请选择福利补贴",trigger:"change"}],childedu:[{required:!0,message:"请选择子女教育",trigger:"change"}],conedu:[{required:!0,message:"请选择继续教育",trigger:"change"}],sermedical:[{required:!0,message:"请选择大病医疗",trigger:"change"}],housingloan:[{required:!0,message:"请选择住房贷款利息",trigger:"change"}],rental:[{required:!0,message:"请选择住房租金",trigger:"change"}],supportold:[{required:!0,message:"请选择赡养老人",trigger:"change"}],"empSalAdj.sadate":[{required:!0,message:"请输入调薪日期",trigger:"blur"}],"empSalAdj.saremark":[{required:!0,message:"请输入调薪备注",trigger:"blur"}]},defaultProps:{children:"children",label:"depname"}}},mounted:function(){this.initEmpSals(),this.initData()},methods:{initEmpSals:function(){var e=this;this.empSalLoading=!0;var t="/salary/employee/?page="+this.page+"&size="+this.size;this.searchValue.empname&&(t+="&empname="+this.searchValue.empname),this.searchValue.depid&&(t+="&depid="+this.searchValue.depid),this.getRequest(t).then((function(t){e.empSalLoading=!1,t&&(e.empSals=t.data,e.total=t.total,0===t.data.length&&e.$notify.error({title:"错误",message:"本页没有数据，请翻页或添加数据！"}))}))},initData:function(){var e=this;window.sessionStorage.getItem("deps")?this.allDeps=JSON.parse(window.sessionStorage.getItem("deps")):this.getRequest("/employee/basic/info/deps").then((function(t){t&&(e.allDeps=t,window.sessionStorage.setItem("deps",JSON.stringify(t)))})),window.sessionStorage.getItem("emps")?this.employees=JSON.parse(window.sessionStorage.getItem("emps")):this.getRequest("/organization/management/employee/").then((function(t){t&&(e.employees=t,window.sessionStorage.setItem("emps",JSON.stringify(t)))})),window.sessionStorage.getItem("speadds")?this.speadds=JSON.parse(window.sessionStorage.getItem("speadds")):this.getRequest("/salary/specialadditionaldeduction/?page=-1&size=-1").then((function(t){t&&(e.speadds=t.data,window.sessionStorage.setItem("speadds",JSON.stringify(t.data)))})),window.sessionStorage.getItem("wels")?this.wels=JSON.parse(window.sessionStorage.getItem("wels")):this.getRequest("/salary/welfare/?page=-1&size=-1").then((function(t){t&&(e.wels=t.data,window.sessionStorage.setItem("wels",JSON.stringify(t.data)))}))},searvhViewHandleNodeClick:function(e){this.inputDepName=e.depname,this.searchValue.depid=e.depid,this.searchDepView=!this.searchDepView},showSearchDepView:function(){this.searchDepView=!this.searchDepView},onError:function(){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1},onSuccess:function(){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.initEmpSals()},beforeUpload:function(e){var t="application/vnd.ms-excel"===e.type;if(!t)return this.$message.error("上传文件只能是 xlsx/xls 格式!"),!1;this.importDataBtnText="正在导入",this.importDataBtnIcon="el-icon-loading",this.importDataDisabled=!0},exportData:function(){var e=this;this.postRequestExcel("/salary/employee/export/",this.multipleSelection).then((function(t){if(t){var a=t,l=new Blob([a],{type:"application/vnd.ms-excel"}),i=e.moment().format("YYYY.MM.DD_HH-mm-ss")+"员工薪资信息表.xls";if("download"in document.createElement("a")){var n=document.createElement("a");n.download=i,n.style.display="none",n.href=URL.createObjectURL(l),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)}else navigator.msSaveBlob(l,i)}}))},emptyEmpSal:function(){this.empSal={workid:"",basicsalary:"",endowment:0,medical:0,unemployment:0,injury:0,maternity:0,addmedical:0,housing:0,enterprisep:0,childedu:"",conedu:"",sermedical:"",housingloan:"",rental:"",supportold:"",welid:"",empSalAdj:{sadate:"2019-01-01",saremark:"test"}}},checkEmpSalView:function(e){this.title="查看员工薪酬信息",this.isEmpSalAdj=!1,this.empSal=e,this.NoModify=!0,this.empSalDialog=!0},showAddEmpSalView:function(){this.emptyEmpSal(),this.title="添加员工新薪酬",this.isEmpSalAdj=!1,this.NoModify=!1,this.empSalDialog=!0,this.$refs["empSalForm"].resetFields()},batchDelete:function(){var e=this;this.$confirm("此操作将永久删除所选中的所有员工薪资信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.postRequest("/salary/employee/deleteempsals/",e.multipleSelection).then((function(t){t&&e.initEmpSals()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},deleteEmpSal:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.employee.empname+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/employee/"+e.esid).then((function(e){e&&t.initEmpSals()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},doAddEmpSal:function(){var e=this;if(this.empSal.esid){if(!0===this.NoModify)return void(this.empSalDialog=!1);this.$refs["empSalForm"].validate((function(t){if(t){e.putRequest("/salary/employee/",e.empSal).then((function(e){}));var a=e.empSal.empSalAdj;a.workid=e.empSal.workid,e.postRequest("/salary/employee/saladj/",a).then((function(t){t&&(e.empSalDialog=!1,e.initEmpSalAdj(e.currentEmpSal))}))}}))}else this.$refs["empSalForm"].validate((function(t){t&&e.postRequest("/salary/employee/",e.empSal).then((function(t){t&&(e.empSalDialog=!1,e.initEmpSals())}))}))},handleSelectionChange:function(e){this.multipleSelection=e},isChoose:function(e,t,a){return!1===a?"否":"是"},sizeChange:function(e){this.size=e,this.initSads()},currentChange:function(e){this.page=e,this.initSads()},moreCommand:function(e){switch(e.command){case"empSalAdj":this.empSalAdjDrawer=!0,this.direction="rtl",this.currentEmpSal=Object.assign({},e.rowdata),this.initEmpSalAdj(this.currentEmpSal);break}},DrawerClose:function(e){var t=this;this.$confirm("确认关闭？").then((function(a){e(),t.initEmpSals()})).catch((function(e){}))},initEmpSalAdj:function(e){var t=this;this.empSalAdjLoading=!0;var a="/salary/employee/saladj/?page="+this.empsaladjpage+"&size="+this.empsaladjsize+"&workid="+e.workid;this.searchEmpSalAdj&&(a+="&sadate="+this.searchEmpSalAdj),this.getRequest(a).then((function(e){t.empSalAdjLoading=!1,e&&(t.empSalAdjs=e.data,t.empsaladjtotal=e.total)}))},empSalAdjSearch:function(){this.initEmpSalAdj(this.currentEmpSal)},addEmpSalAdj:function(){this.title="调整员工薪酬",this.empSal=Object.assign({},this.currentEmpSal),this.empSalAdj={sadate:"",saremark:""},this.empSal.empSalAdj=this.empSalAdj,this.isEmpSalAdj=!0,this.NoModify=!1,this.empSalDialog=!0,this.$refs["empSalForm"].clearValidate()},empSalAdjCurrentChange:function(e){this.empsaladjpage=e,this.initEmpSalAdj(this.currentEmpSal)},empSalAdjSizeChange:function(e){this.empsaladjsize=e,this.initEmpSalAdj(this.currentEmpSal)},checkEmpSalAdj:function(e){this.empSalAdj=e,this.empSalAdjDialogForm=!0}}}),s=n,r=(a("fea90"),a("2877")),o=Object(r["a"])(s,l,i,!1,null,"dd6316b0",null);t["default"]=o.exports},fb2d:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"65%"}},[a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("div",[a("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入福利名称进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:e.initWels},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initWels(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.initWels}},[e._v(" 搜索 ")])],1),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.AddWelView}},[e._v(" 添加新福利 ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.batchDeleteWel}},[e._v("批量删除福利")])],1)])]),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.welfareLoading,expression:"welfareLoading"}],ref:"multipleTable",attrs:{stripe:"",border:"","max-height":"513",data:e.welfares,"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"55"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",prop:"welid",label:"编号",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",fixed:"",prop:"welname",label:"福利名称",align:"left",width:"110"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"traffic",label:"交通补贴",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"catering",label:"餐饮补贴",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"communication",label:"通信补贴",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"bonus",label:"奖金",align:"left",width:"85"}}),a("el-table-column",{attrs:{"header-align":"center",prop:"other",label:"其它",align:"left",width:"85"}}),a("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(a){return e.editWelView(t.row)}}},[e._v("编辑")]),a("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteWel(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),a("el-dialog",{attrs:{title:e.title,visible:e.editWelDialog,width:"30%"},on:{"update:visible":function(t){e.editWelDialog=t}}},[a("el-form",{ref:"welfareForm",attrs:{"label-position":"left","label-width":"90px",model:e.welfare,"status-icon":"",rules:e.rules}},[a("el-form-item",{attrs:{label:"福利名称: ",prop:"welname"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入福利名称"},model:{value:e.welfare.welname,callback:function(t){e.$set(e.welfare,"welname",e._n(t))},expression:"welfare.welname"}})],1),a("el-form-item",{attrs:{label:"交通补贴: ",prop:"traffic"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入交通补贴"},model:{value:e.welfare.traffic,callback:function(t){e.$set(e.welfare,"traffic",e._n(t))},expression:"welfare.traffic"}})],1),a("el-form-item",{attrs:{label:"餐饮补贴: ",prop:"catering"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入餐饮补贴"},model:{value:e.welfare.catering,callback:function(t){e.$set(e.welfare,"catering",e._n(t))},expression:"welfare.catering"}})],1),a("el-form-item",{attrs:{label:"通信补贴: ",prop:"communication"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入通信补贴"},model:{value:e.welfare.communication,callback:function(t){e.$set(e.welfare,"communication",e._n(t))},expression:"welfare.communication"}})],1),a("el-form-item",{attrs:{label:"奖金: ",prop:"bonus"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入奖金"},model:{value:e.welfare.bonus,callback:function(t){e.$set(e.welfare,"bonus",e._n(t))},expression:"welfare.bonus"}})],1),a("el-form-item",{attrs:{label:"其它补贴: ",prop:"other"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"","prefix-icon":"el-icon-edit",placeholder:"请输入其它补贴"},model:{value:e.welfare.other,callback:function(t){e.$set(e.welfare,"other",e._n(t))},expression:"welfare.other"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editWelDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAddWel}},[e._v("确 定")])],1)],1)],1)},i=[],n={name:"SalWelfare",data:function(){return{keyword:null,welfares:[],welfareLoading:!1,editWelDialog:!1,multipleSelection:[],title:"",page:1,size:10,total:0,welfare:{welname:"研发部补贴",traffic:0,catering:1e3,communication:3,bonus:40,other:30},rules:{welname:[{required:!0,message:"请输入福利名称",trigger:"blur"}],traffic:[{required:!0,message:"请输入交通补贴",trigger:"blur"},{type:"number",message:"交通补贴必须为数字值",trigger:"blur"}],catering:[{required:!0,message:"请输入餐饮补贴",trigger:"blur"},{type:"number",message:"餐饮补贴必须为数字值",trigger:"blur"}],communication:[{required:!0,message:"请输入通信补贴",trigger:"blur"},{type:"number",message:"通信补贴必须为数字值",trigger:"blur"}],bonus:[{required:!0,message:"请输入奖金",trigger:"blur"},{type:"number",message:"奖金必须为数字值",trigger:"blur"}],other:[{required:!0,message:"请输入其它福利",trigger:"blur"},{type:"number",message:"其它福利必须为数字值",trigger:"blur"}]}}},mounted:function(){this.initWels()},methods:{initWels:function(){var e=this;this.welfareLoading=!0;var t="/salary/welfare/?page="+this.page+"&size="+this.size;this.keyword&&(t+="&welname="+this.keyword),this.getRequest(t).then((function(t){e.welfareLoading=!1,t&&(e.welfares=t.data,e.total=t.total,0===t.data.length&&e.$notify.error({title:"错误",message:"本页没有数据，请翻页或添加数据！"}))}))},sizeChange:function(e){this.size=e,this.initWels()},currentChange:function(e){this.page=e,this.initWels()},emptyWel:function(){this.welfare={welname:"",traffic:"",catering:"",communication:"",bonus:"",other:""}},batchDeleteWel:function(){var e=this;this.$confirm("此操作将永久删除所选中的所有福利补贴, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.postRequest("/salary/welfare/deletewels/",e.multipleSelection).then((function(t){t&&e.initWels()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},AddWelView:function(){this.emptyWel(),this.title="添加新福利补贴",this.editWelDialog=!0,this.$refs["welfareForm"].resetFields()},editWelView:function(e){this.title="编辑福利补贴",this.welfare=Object.assign({},e),this.editWelDialog=!0},deleteWel:function(e){var t=this;this.$confirm("此操作将永久删除名称为【"+e.welname+"】的福利补贴, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/salary/welfare/"+e.welid).then((function(e){e&&t.initWels()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},confirmAddWel:function(){var e=this;this.welfare.welid?this.$refs["welfareForm"].validate((function(t){t&&e.putRequest("/salary/welfare/",e.welfare).then((function(t){t&&(e.editWelDialog=!1,e.initWels())}))})):this.$refs["welfareForm"].validate((function(t){t&&e.postRequest("/salary/welfare/",e.welfare).then((function(t){t&&(e.editWelDialog=!1,e.initWels())}))}))},handleSelectionChange:function(e){this.multipleSelection=e}}},s=n,r=a("2877"),o=Object(r["a"])(s,l,i,!1,null,"568c0050",null);t["default"]=o.exports},fea90:function(e,t,a){"use strict";var l=a("1c47"),i=a.n(l);i.a}}]);
//# sourceMappingURL=chunk-3fb7d821.722d2ed0.js.map